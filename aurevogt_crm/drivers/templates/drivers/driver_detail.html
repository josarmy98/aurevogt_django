{% extends 'base.html' %}

{% block content %}
<div class="max-w-4xl mx-auto mt-10 bg-white shadow-lg rounded-lg p-6">
  <h2 class="text-2xl font-bold mb-6">Detalle del Conductor</h2>

  <p><strong>Nombre:</strong> {{ driver.user.first_name }} {{ driver.user.last_name }}</p>
  <p><strong>Email:</strong> {{ driver.user.email }}</p>
  <p><strong>Licencia:</strong> {{ driver.license_number }}</p>
  <p><strong>Vehículo:</strong> {{ driver.vehicle.plate|default:"No asignado" }}</p>
  <p><strong>Estado:</strong> {{ driver.status }}</p>
  <p><strong>Última ubicación:</strong> {{ driver.last_location_at|default:"-" }}</p>

  <h3 class="text-xl font-semibold mt-6 mb-2">Historial de Paquetes</h3>
  <table class="min-w-full bg-gray-50 rounded-lg shadow-md">
    <thead class="bg-gray-200">
      <tr>
        <th class="py-2 px-4">Tracking</th>
        <th class="py-2 px-4">Estado</th>
        <th class="py-2 px-4">Fecha Entrega</th>
      </tr>
    </thead>
    <tbody>
      {% for p in packages %}
      <tr class="border-b hover:bg-gray-100">
        <td class="py-2 px-4">{{ p.tracking_number }}</td>
        <td class="py-2 px-4">{{ p.status }}</td>
        <td class="py-2 px-4">{{ p.delivered_at|date:"Y-m-d H:i" }}</td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="3" class="text-center py-4">No hay paquetes entregados</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}